{"tagline":"The Single Page Application Framework for KnockoutJS","note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Pagerjs","body":"# [pager.js](http://oscar.finnsson.nu/pagerjs/)\r\n\r\npager.js is a JavaScript library based on KnockoutJS, jQuery and Underscore.js that provides the possibility of\r\ncreating single page applications in a declarative fashion\r\n- nesting subpages inside subpages where each subpage can be developed standalone but still communicate between\r\neach other.\r\n\r\nThis makes it easier to design very large scale single page web sites.\r\n\r\nSee the [demo](http://oscar.finnsson.nu/pagerjs/demo/).\r\n\r\n# Getting Started\r\n\r\n1. Download the [developer](https://raw.github.com/finnsson/pagerjs/master/pager.js) version,\r\n   the [minified](https://raw.github.com/finnsson/pagerjs/master/dist/pager.min.js) version,\r\n   the [AMD](https://raw.github.com/finnsson/pagerjs/master/dist/pager.amd.min.js) version,\r\n   the [AMD jQuery hashchange](https://raw.github.com/finnsson/pagerjs/master/dist/pager.amd.hash.min.js) version,\r\n   or the [AMD History.js](https://raw.github.com/finnsson/pagerjs/master/dist/pager.amd.history.min.js) version\r\n   of pager.js\r\n2. Include all dependencies (jQuery, Underscore.js/Lo-Dash, KnockoutJS) as well as pager.js in your site\r\n   using either AMD or non-AMD:\r\n\r\n        // AMD\r\n        requirejs.config({\r\n            paths:{\r\n                jquery:'jquery-1.8.2.min',\r\n                underscore:'lodash.min',\r\n                knockout:'knockout-2.1.0',\r\n                pager:'pager.amd.min',\r\n                // iff using jquery hashchange\r\n                hashchange:'jquery.ba-hashchange.min',\r\n                // iff using History.js\r\n                history: 'jquery.history'\r\n            }\r\n        });\r\n\r\n        // non-AMD\r\n        <script type=\"text/javascript\" src=\"jquery-1.8.2.min.js\"></script>\r\n        <script type=\"text/javascript\" src=\"underscore-min.js\"></script>\r\n        <script type=\"text/javascript\" src=\"knockout-2.1.0.js\"></script>\r\n        <script type=\"text/javascript\" src=\"pager.js\"></script>\r\n\r\n3. Insert the lines:\r\n\r\n        pager.extendWithPage(viewModel);\r\n        ko.applyBindings(viewModel);\r\n        pager.start();\r\n\r\n4. Start using the bindings `page` and `page-href`. Consult the\r\n   [web page](http://oscar.finnsson.nu/pagerjs/),\r\n   [demo](http://oscar.finnsson.nu/pagerjs/demo/)\r\n   or [test cases](https://github.com/finnsson/pagerjs/tree/master/test) for how to use the bindings.\r\n5. Rock 'n' Roll!\r\n\r\n# Dependencies\r\n\r\n- [KnockoutJS](http://knockoutjs.com/)\r\n- [jQuery](http://jquery.com/)\r\n- [Underscore.js](http://underscorejs.org/) or [Lo-Dash](http://lodash.com/)\r\n\r\nYou will usually use pager.js in combination with either\r\n[jQuery hashchange](https://github.com/cowboy/jquery-hashchange)\r\nor [History.js](https://github.com/balupton/History.js/).\r\n\r\npager.js is not depending on any CSS framework!\r\n\r\nFor developing pager.js you'll also need\r\n\r\n- [Node.js](http://nodejs.org/)\r\n- [Grunt](https://github.com/cowboy/grunt)\r\n- [QUnit](http://qunitjs.com/)\r\n- [PhantomJS](http://phantomjs.org/)\r\n- [RequireJS](http://requirejs.org/)\r\n\r\n# Philosophy\r\n\r\nDeveloping a huge single page application should be like developing multiple small pages. That is the only way\r\nyou'll be able to scale up and out the development. In order to ease development in the large pager.js got\r\n\r\n* views (pages) that can be loaded on-demand\r\n* view-models that can be loaded on-demand\r\n\r\nThese MVVM-triads can be developed in isolation and later on connected.\r\n\r\n# Reference Manual\r\n\r\npager.js got three static methods and\r\nextends KnockoutJS with four custom bindings: `page`, `page-href`, `page-hash` and\r\n`page-href5`.\r\n\r\n\r\n## `pager.route`\r\n\r\n## `pager.start`\r\n\r\n## `pager.extendWithPage`\r\n\r\n### Example\r\n\r\n    // viewModel is your KnockoutJS view model\r\n    var viewModel = {};\r\n    // pager.extendWithPage extends your\r\n    // view model with some pager-specific data\r\n    pager.extendWithPage(viewModel);\r\n    // apply your view model as normal\r\n    ko.applyBindings(viewModel);\r\n    // start the pager. Will listen to hashchange and\r\n    // show/hide pages depending on their page IDs\r\n    pager.start();\r\n\r\n\r\n## page-href\r\n\r\n    <a data-bind=\"page-href: 'somePagePath'\"></a>\r\n\r\nCalculates absolute href based on the location of the element.\r\n\r\n## page\r\n\r\n    <div data-bind=\"page: {}\">\r\n    </div>\r\n\r\nThe page-binding. See configuration.\r\n\r\n# Configurations\r\n\r\nThe configuration options for the page-binding.\r\n\r\n\r\n## {String} id\r\n\r\nID of scoped page that a router should react to. E.g. `start` or `user/me`.\r\nIf the id is `?` (wildcard) it will match anything if no other page in the same parent match.\r\n\r\n* [Setup](http://oscar.finnsson.nu/pagerjs/demo/#setup)\r\n* [Deep Navigation](http://oscar.finnsson.nu/pagerjs/demo/#deep_navigation)\r\n* [Matching Wildcards](http://oscar.finnsson.nu/pagerjs/demo/#matching_wildcards)\r\n* [Deep Navigation with Wildcards](http://oscar.finnsson.nu/pagerjs/demo/#deep_navigation_with_wildcards)\r\n\r\n## {Object} with\r\n\r\nThat can change the scope of elements descendants. The same behavior as the normal `with`-binding.\r\n\r\n* [Change Binding Context](http://oscar.finnsson.nu/pagerjs/demo/#change_binding_context)\r\n\r\n## {Function} withOnShow\r\n\r\nSets the view model of elements descendants async after the page is shown. This is useful\r\nso you can extract sub pages view models to other `.js`-files.\r\n\r\n* [Lazy-Bind View-Model](http://oscar.finnsson.nu/pagerjs/demo/#lazy_bind_view_model)\r\n\r\n## {String/Function} source\r\n\r\nSource to load into element using `jQuery#load`. The source will be loaded once the page is processed.\r\nIf it is a function it is invoked.\r\n\r\n* [Load External Content](http://oscar.finnsson.nu/pagerjs/demo/#load_external_content)\r\n* [Load View using Custom Method](http://oscar.finnsson.nu/pagerjs/demo/#custom_view_loader)\r\n\r\n## {Function} sourceLoaded\r\n\r\nIs a method/event/callback to run once the `source` (or `sourceOnShow`) is loaded.\r\n\r\n* [Load External Content](http://oscar.finnsson.nu/pagerjs/demo/#load_external_content)\r\n\r\n## {String/Function} sourceOnShow\r\n\r\nSource to load into element using `jQuery#load` when the element is displayed. Thus sub pages\r\ncan be extracted and loaded on demand. If it is a function it is invoked.\r\n\r\n* [Lazy-Load External Content](http://oscar.finnsson.nu/pagerjs/demo/#lazy_load_external_content)\r\n* [Load View using Custom Method](http://oscar.finnsson.nu/pagerjs/demo/#custom_view_loader)\r\n\r\n\r\n## {Boolean/Number} sourceCache\r\n\r\nCan be set to true in order for sourceOnShow to only load the source once.\r\nIf a number is specified the cache is valid for that amount of time in seconds.\r\n\r\n* [Cached Lazy-Loaded Content](http://oscar.finnsson.nu/pagerjs/demo/#cached_lazy)\r\n\r\n## {String} frame\r\n\r\nCan be set to `iframe` in order for the source to be loaded into an iframe. If the page contains\r\nan iframe that element is used.\r\n\r\n* [Load Content into iframe](http://oscar.finnsson.nu/pagerjs/demo/#load_into_iframe)\r\n* [Configure an iframe](http://oscar.finnsson.nu/pagerjs/demo/#configure_iframe)\r\n\r\n## {Boolean} modal\r\n\r\nCan be set to `true` in order for the page to act as a modal. If a page is a modal it can be\r\nfound by child-pages to sibling-pages of the modal.\r\n\r\n* [Modals](http://oscar.finnsson.nu/pagerjs/demo/#modals)\r\n\r\n## {Function} beforeHide\r\n\r\nIs called before the page is hidden.\r\n\r\n* [Custom JS when Navigating](http://oscar.finnsson.nu/pagerjs/demo/#custom_js_when_navigating)\r\n\r\n## {Function} beforeShow\r\n\r\nIs called before the page is shown.\r\n\r\n* [Custom JS when Navigating](http://oscar.finnsson.nu/pagerjs/demo/#custom_js_when_navigating)\r\n\r\n## {Function} afterHide\r\n\r\nIs called after the page is hidden.\r\n\r\n* [Custom JS when Navigating](http://oscar.finnsson.nu/pagerjs/demo/#custom_js_when_navigating)\r\n\r\n## {Function} afterShow\r\n\r\nIs called after the page is shown.\r\n\r\n* [Custom JS when Navigating](http://oscar.finnsson.nu/pagerjs/demo/#custom_js_when_navigating)\r\n\r\n## {Function} hideElement\r\n\r\nCustom hide-method instead of the default `$(element).hide()`;\r\n\r\n* [Custom Hide- and Show-Methods](http://oscar.finnsson.nu/pagerjs/demo/#custom_hide_show)\r\n\r\n## {Function} showElement\r\n\r\nCustom show-method instead of the default `$(element).show()`;\r\n\r\n* [Custom Hide- and Show-Methods](http://oscar.finnsson.nu/pagerjs/demo/#custom_hide_show)\r\n\r\n## {Function} loader\r\n\r\nLoader to call once the page is loaded. Can e.g. create a spinner inside the element.\r\n\r\n* [Loader](http://oscar.finnsson.nu/pagerjs/demo/#loader)\r\n\r\n## {Function} navigationFailed\r\n\r\nMethod to call if a navigation could not find any matching page.\r\n\r\n* [Reacting to Failed Navigation](http://oscar.finnsson.nu/pagerjs/demo/#failed_navigation)\r\n\r\n## {Object} params\r\n\r\nBinds URL-parameters to local observables.\r\n\r\n* [Binding URI parameters](http://oscar.finnsson.nu/pagerjs/demo/#params)\r\n\r\n## {Function} guard\r\n\r\nValidates a page transition before it is happening.\r\n\r\n* [Guards](http://oscar.finnsson.nu/pagerjs/demo/#guards)\r\n\r\n## {String} fx\r\n\r\n* [FX](http://oscar.finnsson.nu/pagerjs/demo/#fx)\r\n\r\n# Cookbook\r\n\r\nThe following behaviors specify and exemplify what pager.js is capable of.\r\n\r\n## Display page with id start by default\r\n\r\n    <div>\r\n      <div data-bind=\"page: {id: 'bar'}\">Bar</div>\r\n      <!-- Foo is displayed -->\r\n      <div data-bind=\"page: {id: 'start'}\">Foo</div>\r\n    </div>\r\n\r\n## Navigate to page using scoped IDs.\r\n\r\n    <div data-bind=\"page: {id:'start'}\">\r\n      <a href=\"#foo\">Go to foo</a>\r\n    </div>\r\n    <div data-bind=\"page: {id: 'foo'}\">\r\n      Foo. Go to <a href=\"#start\">start</a>\r\n    </div>\r\n\r\n## Deep navigation\r\n\r\n    <div id=\"start\" data-bind=\"page: {id: 'start'}\">\r\n        <a href=\"#user/fry\">Go to Fry</a>\r\n    </div>\r\n\r\n    <div id=\"user\" data-bind=\"page: {id: 'user'}\">\r\n        <div id=\"fry\" data-bind=\"page: {id: 'fry'}\">Fry</div>\r\n    </div>\r\n\r\n## Load external content into a page using `source` and trigger `sourceLoaded` event\r\n\r\n    <div data-bind=\"page: {id: 'lorem', source: 'lorem.html .content', sourceLoaded: loremIsLoaded}\"></div>\r\n\r\nThe source can contain a selector (see `.content` above) in order to extract a fragment on the site.\r\nIn the example above `loremIsLoaded` is a function that is triggered after `lorem.html` is loaded.\r\n\r\n## Lazy load an external content into a page if `sourceOnShow` is declared\r\n\r\n    <div data-bind=\"page: {id: 'lazyLorem', sourceOnShow: 'lorem.html .content'}\"></div>\r\n\r\n`sourceOnShow` tells the page to load the content when the page is displayed.\r\n\r\n## Cache lazy loaded content when `sourceCache: true`\r\n\r\n    <div data-bind=\"page: {id: 'lazyLoremCached', sourceOnShow: 'lorem.html .content', sourceCache: true}\"></div>\r\n\r\n## Cache lazy loaded content the number of seconds specified by `sourceCache`\r\n\r\n    <div data-bind=\"page: {id: 'lazyLoremCached5seconds', sourceOnShow: 'lorem.html .content', sourceCache: 5}\"></div>\r\n\r\n`sourceCache` can specify the amount of seconds the external content should be cached.\r\n\r\n## Specify relative page paths using `page-href`\r\n\r\n    <div data-bind=\"page: {id: 'start'}\">\r\n      <!-- This will update href to #start/bender -->\r\n      <a data-bind=\"page-href: 'bender'\">Bender</a>\r\n\r\n      <!-- This will update href to #admin/login -->\r\n      <a data-bind=\"page-href: '../admin/login'\">Admin Login</a>\r\n\r\n      <div data-bind=\"page: {id: 'bender'}\">Bender!</div>\r\n    </div>\r\n    <div data-bind=\"page: {id: 'admin'}\">\r\n      <div data-bind=\"page: {id: 'login'}\">Login</div>\r\n    </div>\r\n\r\nBased on the total path of the page the binding calculates an absolute href.\r\n\r\n## Change binding context using `with`\r\n\r\n    <div data-bind=\"page: {id: 'user', with: user}\">\r\n      <!-- Here name is user.name -->\r\n      <div data-bind=\"text: name\"></div>\r\n    </div>\r\n\r\n## `withOnShow` will lazy bind a new view model to the page\r\n\r\n    <div data-bind=\"page: {id: 'user', withOnShow: someMethod('someMethod')}\"></div>\r\n\r\n`someMethod` must return a function that takes a callback that takes a view model.\r\n\r\nE.g.\r\n\r\n    function requireVM(module) {\r\n      return function(callback) {\r\n        require([module], function(mod) {\r\n          callback(mod.getVM());\r\n        });\r\n      };\r\n    }\r\n\r\n## Match wildcard IDs if no other ID can match exactly\r\n\r\n    <div data-bind=\"page: {id: 'admin'}\"></div>\r\n    <!-- The page below match anything except 'admin' -->\r\n    <div data-bind=\"page: {id: '?'}\"></div>\r\n\r\n## Deep navigation with wildcards\r\n\r\n    <div data-bind=\"page: {id: 'start'}\">\r\n          <a href=\"#user/leela\">Go to Leela</a>\r\n    </div>\r\n\r\n    <div data-bind=\"page: {id: '?'}\">\r\n        Misc:\r\n        <div data-bind=\"page: {id: 'leela'}\">\r\n            Leela\r\n        </div>\r\n    </div>\r\n\r\n## Send wildcards as parameter to source-method\r\n\r\n    <div data-bind=\"page: {id: 'start'}\">\r\n        <a href=\"#user/fry\">Go to Fry</a>\r\n    </div>\r\n\r\n    <div data-bind=\"page: {id: 'user'}\">\r\n        User:\r\n        <!-- {1} will be replaced with whatever matched the wildcard -->\r\n        <div data-bind=\"page: {id: '?', sourceOnShow: 'user/{1}.html'}\">\r\n        </div>\r\n    </div>\r\n\r\n## Load content into iframes\r\n\r\n    <!-- An iframe will be created inside the div -->\r\n    <div data-bind=\"page: {id: 'user', frame: 'iframe', source: 'user.html'}\"></div>\r\n\r\n    <!-- The iframe specified will be used -->\r\n    <div data-bind=\"page: {id: 'fry', frame: 'iframe', source: 'fry.html'}\">\r\n        <iframe sandbox=\"\"></iframe>\r\n    </div>\r\n\r\n## Route to custom widgets (dialogs, carousels, accordions)\r\n\r\nIt is possible to create custom widgets that jack into the pager-system.\r\nThe `page`-binding (`pager.Page`-class) is possible to extend at multiple points.\r\n\r\n## Circumvent the routing\r\n\r\nSince pager is not responsible for listening on the location it is possible to\r\ncircumvent the routing using the router used. Just do not use `pager.start`.\r\n\r\n## Navigate into a layer (modal dialog) without losing context\r\n\r\n    <div data-bind=\"page: {id: 'start'}\">\r\n      <div data-bind=\"page: {id: 'admin'}>\r\n        <a href=\"#start/admin/ok\">Show OK</a>\r\n      </div>\r\n      <div data-bind=\"page: {id: 'ok', modal: true, title: 'OK?'}\">\r\n            <a href=\"#admin\">OK?</a>\r\n      </div>\r\n    </div>\r\n\r\nIf a `page` is set to `modal` is can match IDs deeper down the hierarchy. In this case\r\nstart/ok also matches start/admin/ok making the page available as a modal dialog\r\nin other contexts.\r\n\r\n## Navigate into a layer (modal dialog) and lose context\r\n\r\n    <div data-bind=\"page: {id: 'start'}\">\r\n      <div data-bind=\"page: {id: 'admin'}>\r\n        <a href=\"#start/ok\">Show OK</a>\r\n      </div>\r\n      <div data-bind=\"page: {id: 'ok', modal: true}\">\r\n            <a href=\"#admin\">OK?</a>\r\n      </div>\r\n    </div>\r\n\r\nLosing the context is nothing special. Just navigate away form the current page.\r\n\r\n## Change the page title\r\n\r\n    <div data-bind=\"page: {id: 'fry', title: 'Fry'}\">\r\n      Fry\r\n    </div>\r\n\r\nSetting the 'title' configuration property will update the document title when navigating to\r\nthe page.\r\n\r\n\r\n## Run custom JS on \"before/after navigate from/to\"\r\n\r\nThere are four alternatives:\r\n\r\n* global registration using pager.childManager\r\n* global data binding on body using `click`\r\n* local data binding on anchor using `click`\r\n* local data binding on page using `beforeHide`, `afterHide`, `beforeShow`, and `afterShow`\r\n\r\n\r\n    // global registration using pager.childManager\r\n    ko.computed(function() {\r\n      var currentChild = pager.childManager.currentChildO();\r\n      if(currentChild) {\r\n        // do something\r\n      }\r\n    });\r\n\r\n    <body data-bind=\"click: globalClick\">\r\n\r\n        // local data binding on page\r\n        <div data-bind=\"page: {id: 'fry', beforeHide: beforeFryIsHidden}\"></div>\r\n\r\n        // local data binding on anchor using click\r\n        <a data-bind=\"page-href: 'fry' click: anchorClicked}\">Go to Fry</a>\r\n\r\n    </body>\r\n\r\n    var beforeFryIsHidden = function(page) {\r\n        console.error(page);\r\n    };\r\n\r\n    var anchorClicked = function(page, e) {\r\n        // otherwise the event will be stopped\r\n        return true;\r\n    };\r\n\r\n    var globalClick = function() {\r\n        // otherwise the event will be stopped\r\n        return true;\r\n    };\r\n\r\nThe click data-binding can be used to run validations before navigations. Just do not `return true`\r\nto prevent the navigation from happening.\r\n\r\n\r\n## Supply custom showElement and hideElement-methods\r\n\r\n    <div data-bind=\"page: {id: 'fry', showElement: showFry, hideElement: hideFry}\">\r\n      Fry\r\n    </div>\r\n\r\n    // new default hide\r\n    pager.hideElement = function(page, callback) {\r\n      $(page.element).slideUp(600);\r\n      if(callback) {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    // new default show\r\n    pager.showElement = function(page, callback) {\r\n      $(page.element).slideDown(600);\r\n      if(callback) {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    var showFry = function(page, callback) {\r\n      $(page.element).fadeIn(500, callback);\r\n    };\r\n    var hideFry = function(page, callback) {\r\n      $(page.element).fadeOut(500, callback);\r\n    };\r\n\r\n## Specify loaders in pages\r\n\r\n    <div data-bind=\"page: {id: 'zoidberg', title: 'Zoidberg', loader: loader, sourceOnShow: 'zoidberg.html'}\" />\r\n\r\nwhere\r\n\r\n    textLoader: function(page, element) {\r\n        var loader = {};\r\n        var txt = $('<div></div>', {text: 'Loading ' + page.getValue().title});\r\n        loader.load = function() {\r\n            $(element).append(txt);\r\n        };\r\n        loader.unload = function() {\r\n            txt.remove();\r\n        };\r\n        return loader;\r\n    }\r\n\r\n## Specify global loaders\r\n\r\n    // see textLoader above\r\n    pager.loader = textLoader;\r\n\r\n## Tab panel custom widget\r\n\r\n    <ul class=\"nav nav-tabs\" data-bind=\"foreach: $page.children\">\r\n        <li data-bind=\"css: {active: isVisible}\"><a data-bind=\"text: $data.getValue().title, page-href: getId()\"></a></li>\r\n    </ul>\r\n\r\n    <div data-bind=\"page: {id: 'Slagsmålsklubben', title: 'Slagsmålsklubben',\r\n      sourceOnShow: 'https://embed.spotify.com/?uri=spotify:album:66KBDVJnA6c0DjHeSZYaHb', frame: 'iframe'}\" class=\"hero-unit\">\r\n        <iframe width=\"300\" height=\"380\" frameborder=\"0\" allowtransparency=\"true\"></iframe>\r\n    </div>\r\n\r\n    <div data-bind=\"page: {id: 'Binärpilot', title: 'Binärpilot',\r\n      sourceOnShow: 'https://embed.spotify.com/?uri=spotify:album:67LKycg4jAoC06kZgjvbNd', frame: 'iframe'}\" class=\"hero-unit\">\r\n        <iframe width=\"300\" height=\"380\" frameborder=\"0\" allowtransparency=\"true\"></iframe>\r\n    </div>\r\n\r\n\r\n## React to a failed navigation\r\n\r\nBoth Page-objects and pager should send events whenever a navigation failed (i.e. no matching page for the route).\r\n\r\n    <a data-bind=\"click: function() { window.location.hash = 'failed_navigation/random/' + (Math.random()*1000).toFixed() }\">\r\n        Go to random sub-page\r\n    </a>\r\n\r\n    <div data-bind=\"page: {id: 'random', navigationFailed: randomFailed}\">\r\n        <ul class=\"nav nav-tabs\" data-bind=\"foreach: $page.children\">\r\n            <li data-bind=\"css: {active: isVisible}\"><a\r\n                    data-bind=\"text: getId(), page-href: getId()\"></a></li>\r\n        </ul>\r\n\r\n        <div data-bind=\"foreach: newChildren\">\r\n            <div data-bind=\"page: {id: childId}\">\r\n                <span data-bind=\"text: childId\"></span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\nwhere\r\n\r\n    randomFailed:function (page, route) {\r\n        viewModel.newChildren.push({\r\n            childId:route[0]\r\n        });\r\n        page.showPage(route);\r\n    },\r\n    newChildren:ko.observableArray([])\r\n\r\n\r\n## Load view content using a custom method\r\n\r\nIn order to facilitate programming in the large it is useful to be able to extract views as separate components.\r\nThese views should not be forced to be stored as html-fragments or be loaded with jQuery.\r\n\r\nThus a way to inject custom views should be possible. This is done using the `source`- or\r\n`sourceOnShow`-properties. Just supply a method instead of a string!\r\n\r\nThese properties takes a method that should take a `pager.Page` as first argument, a callback, and return nothing.\r\n\r\n    <div data-bind=\"page: {id: 'zoidberg', sourceOnShow: requireView('character/zoidberg')}\" />\r\n\r\nwhere\r\n\r\n    window.requireView = function(viewModule) {\r\n      return function(page, callback) {\r\n        require([viewModule], function(viewString) {\r\n          $(page.element).html(viewString);\r\n          callback();\r\n        });\r\n      };\r\n    };\r\n\r\nif\r\n\r\n    // file: character/zoidberg.js\r\n    define(function() {\r\n      return '<h1>Zoidberg</h1>';\r\n    });\r\n\r\n\r\n## Send URI (fragment identifier) parameters to a page\r\n\r\nA page should be able to access the information in the current route - changing a view-model.\r\n\r\nSending parts of the fragment identifier to variables in the view-model is possible using\r\n`params`.\r\n\r\n    <div data-bind=\"page: {id: 'search', params: {'name', 'fromdate'}}\">\r\n      <span data-bind=\"text: name\"></span> (<span data-bind=\"text: fromdate\"></span>)\r\n    </div>\r\n\r\nwhere `name` and `fromdate` with be bound by the parameters `name` and `fromdate`.\r\n\r\nAn example route for the example above could look like\r\n\r\n    example.com/#search/tv?name=samsung&fromdate=20121010\r\n\r\nor if HTML5 history is used\r\n\r\n    example.com/search/tv?name=samsung&fromdate=20121010\r\n\r\n## Add guards\r\n\r\nGuards are methods that are run before the page navigation takes place and\r\nthat can stop the navigation from displaying a certain page.\r\n\r\nUse the property `guard: someMethod` do apply the guard. The method\r\ntakes three parameters: page, route and callback. If the callback is called\r\nthe navigation takes place - otherwise it is stopped.\r\n\r\n    <div data-bind=\"page: {id: 'admin', guard: isLoggedIn}\">\r\n      This page is only accessible if the user is logged in.\r\n    </div>\r\n\r\nwhere\r\n\r\n    isLoggedIn: function(toPage, route, callback, fromPage) {\r\n        if(viewModel.loggedIn()) {\r\n            callback();\r\n        } else {\r\n            window.location.href = \"login\";\r\n        }\r\n    }\r\n\r\nUse cases are login, validating steps in state machines, etc.\r\n\r\nThe reason the guard takes a callback as third argument is simply because the guard might be async - accessing\r\na webserver for login details or asking if a valid shopping card exists etc.\r\n\r\n# FAQ\r\n\r\n## Can I use it together with...\r\n\r\npager.js is not depending on anything but jQuery, KnockoutJS and Underscore.js/Lo-Dash. You can use it together with\r\nany CSS framework. If you don't like Underscore.js you can use it together with Lo-Dash instead.\r\n\r\n## Can I use true URLs instead?\r\n\r\nYes. Use `pager.min.history.js` if you want to use it together with History.js.\r\n\r\n# Release Notes\r\n\r\n## 0.2\r\n\r\n- [Should be possible to circumvent the routing](https://github.com/finnsson/pagerjs/issues/17)\r\n- [Should be possible to route to custom widgets (accordions)](https://github.com/finnsson/pagerjs/issues/16)\r\n- [Should be possible to load content into iframes](https://github.com/finnsson/pagerjs/issues/15)\r\n- [Should send wildcards to source](https://github.com/finnsson/pagerjs/issues/14)\r\n- [Should do deep navigation with wildcards](https://github.com/finnsson/pagerjs/issues/13)\r\n- [Should match wildcard IDs if no other ID can match exactly](https://github.com/finnsson/pagerjs/issues/12)\r\n- [withOnShow should lazy bind a new view model to the page](https://github.com/finnsson/pagerjs/issues/11)\r\n- [Should change binding context using with](https://github.com/finnsson/pagerjs/issues/10)\r\n- [Should specify relative page paths using page-href](https://github.com/finnsson/pagerjs/issues/9)\r\n- [Should cache lazy loaded content the number of seconds specified by sourceCache](https://github.com/finnsson/pagerjs/issues/8)\r\n- [Should cache lazy loaded content when sourceCache: true](https://github.com/finnsson/pagerjs/issues/7)\r\n- [Should lazy load an external content into a page if sourceOnShow is declared](https://github.com/finnsson/pagerjs/issues/6)\r\n- [Should load external content into a page using source and trigger sourceLoaded event](https://github.com/finnsson/pagerjs/issues/5)\r\n- [Should be possible to do deep navigation](https://github.com/finnsson/pagerjs/issues/4)\r\n- [Should navigate to page using scoped IDs.](https://github.com/finnsson/pagerjs/issues/3)\r\n- [Should display page with id start by default](https://github.com/finnsson/pagerjs/issues/2)\r\n\r\n## 0.4\r\n\r\n- [Should be possible to add guards](https://github.com/finnsson/pagerjs/issues/26)\r\n- [Should be possible to send URI (fragment identifier) parameters to a page](https://github.com/finnsson/pagerjs/issues/25)\r\n- [Should be possible to load view content using a custom method](https://github.com/finnsson/pagerjs/issues/24)\r\n- [Should be possible to navigate into modals](https://github.com/finnsson/pagerjs/issues/23)\r\n- [Should be possible to specify loaders on pages](https://github.com/finnsson/pagerjs/issues/22)\r\n- [Should be possible to change the page title](https://github.com/finnsson/pagerjs/issues/21)\r\n- [Should be possible to run custom JS on \"navigate failed\"](https://github.com/finnsson/pagerjs/issues/20)\r\n- [Tab panel custom widget](https://github.com/finnsson/pagerjs/issues/19)\r\n- [Should be possible to run custom JS on \"navigate to\"](https://github.com/finnsson/pagerjs/issues/18)\r\n\r\n## 0.6 (Current)\r\n\r\n- [Should contain common effects](https://github.com/finnsson/pagerjs/issues/28)\r\n- [HTML5 History Boilerplate](https://github.com/finnsson/pagerjs/issues/34)\r\n- [page-hash and page-href5 bindings for hash or html5 history](https://github.com/finnsson/pagerjs/issues/29)\r\n- [Access to Page in withOnShow handler](https://github.com/finnsson/pagerjs/issues/27)\r\n- [Add BeforeNavigate Event handler to allow user to stop transition](https://github.com/finnsson/pagerjs/issues/1)\r\n\r\n# Roadmap\r\n\r\nSee [Milestones](https://github.com/finnsson/pagerjs/issues/milestones).\r\n\r\n# How to Contribute\r\n\r\nFork this repo. Install all dependencies (node.js, grunt, phnatomjs). Run all tests\r\n(`grunt qunit`). Run jslint (`grunt lint`). Make your changes. Run all tests and the linter again. Send a pull request.\r\n\r\n# License\r\n\r\npager.js is under MIT license.\r\n\r\nCopyright (c) 2012 Oscar Finnsson\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated\r\ndocumentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the\r\nrights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit\r\n persons to whom the Software is furnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the\r\nSoftware.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE\r\nWARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\r\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\r\nOTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","google":""}