<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Pagerjs by finnsson</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Pagerjs</h1>
          <h2>The Single Page Application Framework for KnockoutJS</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/finnsson/pagerjs/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/finnsson/pagerjs/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/finnsson/pagerjs" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>pager.js</h1>

<p>pager.js provides the possibility of creating single page applications in a declarative fashion.</p>

<p>This makes it easier to design large scale single page web sites.</p>

<p>See the <a href="demo/">demo</a>.</p>

<h2>Getting Started</h2>

<ul>
<li>Download the <a href="https://raw.github.com/finnsson/pagerjs/master/pager.js">developer version</a>
or the <a href="https://raw.github.com/finnsson/pagerjs/master/dist/pager.min.js">minified version</a>
of pager.js</li>
<li>Include all dependencies (jQuery, Underscore.js, KnockoutJS) as well as pager.js in your site</li>
<li>Start using the bindings <code>page</code>, <code>page-href</code>, and <code>page-accordion-item</code>. Consult the
<a href="http://oscar.finnsson.nu/pagerjs/">web page</a> or
<a href="https://github.com/finnsson/pagerjs/tree/master/test">test cases</a> for how to use the bindings.</li>
<li>Insert the lines <code>pager.extendWithPage(viewModel); ko.applyBindings(viewModel); pager.start(viewModel);</code>
</li>
<li>Rock 'n' Roll!</li>
</ul><h2>Helpers</h2>

<ul>
<li><code>pager.route</code></li>
<li><code>pager.start</code></li>
<li><code>pager.extendWithPage</code></li>
</ul><h3>Example</h3>

<pre><code>// viewModel is your KnockoutJS view model
var viewModel = {};
// pager.extendWithPage extends your
// view model with some pager-specific data
pager.extendWithPage(viewModel);
// apply your view model as normal
ko.applyBindings(viewModel);
// start the pager. Will listen to hashchange and
// show/hide pages depending on their page IDs
pager.start(viewModel);
</code></pre>

<h2>Custom Bindings</h2>

<p>pager.js extends KnockoutJS with three custom bindings: <code>page</code>, <code>page-href</code> and <code>page-accordion-item</code>.</p>

<h3>page</h3>

<pre><code>&lt;div data-bind="page: {}"&gt;
&lt;/div&gt;
</code></pre>

<h4>Configurations</h4>

<ul>
<li>
<code>{String} id</code> of scoped page that a router should react to. E.g. <code>start</code> or <code>user/me</code>.
If the id is <code>?</code> (wildcard) it will match anything if no other page in the same parent match.</li>
<li>
<code>{Object} with</code> that can change the scope of elements descendants. The same behavior as the normal <code>with</code>-binding.</li>
<li>
<code>{Function} withOnShow</code> sets the view model of elements descendants async after the page is shown. This is useful
so you can extract sub pages view models to other <code>.js</code>-files.</li>
<li>
<code>{String} source</code> to load into element using <code>jQuery#load</code>. The source will be loaded once the page is processed.</li>
<li>
<code>{Function} sourceLoaded</code> is a method/event/callback to run once the <code>source</code> (or <code>sourceOnShow</code>) is loaded.</li>
<li>
<code>{String} sourceOnShow</code> to load into element using <code>jQuery#load</code> when the element is displayed. Thus sub pages
can be extracted and loaded on demand.</li>
<li>
<code>{Boolean/Number} sourceCache</code> can be set to true in order for sourceOnShow to only load the source once.
If a number is specified the cache is valid for that amount of time in seconds.</li>
<li>
<code>{String} frame</code> can be set to <code>iframe</code> in order for the source to be loaded into an iframe. If the page contains
an iframe that element is used.</li>
</ul><h3>page-href</h3>

<pre><code>&lt;a data-bind="page-href: 'somePagePath'"&gt;&lt;/a&gt;
</code></pre>

<p>Calculates absolute href based on the location of the element.</p>

<h3>page-accordion-item</h3>

<pre><code>&lt;!-- First item in accordion --&gt;
&lt;div data-bind="page-accordion-item: {id: 'dog'}"&gt;
    &lt;a href="#animals/dog"&gt;Dog&lt;/a&gt;
    &lt;div&gt;Dog Information&lt;/div&gt;
&lt;/div&gt;
&lt;!-- Second item in accordion --&gt;
&lt;div data-bind="page-accordion-item: {id: 'cat'}"&gt;
    &lt;a href="#animals/cat"&gt;Cat&lt;/a&gt;
    &lt;div&gt;Cat Information&lt;/div&gt;
&lt;/div&gt;
</code></pre>

<p><code>page-accordion-item</code> is a subclass / subbinding of <code>page</code> enabling deep linking and navigation of accordions.</p>

<h2>Dependencies</h2>

<ul>
<li><a href="http://knockoutjs.com/">KnockoutJS</a></li>
<li><a href="http://jquery.com/">jQuery</a></li>
<li><a href="http://underscorejs.org/">Underscore.js</a></li>
</ul><p>For developing pager.js you'll need</p>

<ul>
<li><a href="http://nodejs.org/">Node.js</a></li>
<li><a href="https://github.com/cowboy/grunt">Grunt</a></li>
<li><a href="http://qunitjs.com/">QUnit</a></li>
<li><a href="http://phantomjs.org/">PhantomJS</a></li>
<li><a href="http://requirejs.org/">RequireJS</a></li>
</ul><h2>Behaviors</h2>

<p>The following behaviors specify and exemplify what pager.js is capable of.</p>

<h3>Should display page with id start by default</h3>

<pre><code>&lt;div&gt;
  &lt;div data-bind="page: {id: 'bar'}"&gt;Bar&lt;/div&gt;
  &lt;!-- Foo is displayed --&gt;
  &lt;div data-bind="page: {id: 'start'}"&gt;Foo&lt;/div&gt;
&lt;/div&gt;
</code></pre>

<h3>Should navigate to page using scoped IDs.</h3>

<pre><code>&lt;div data-bind="page: {id:'start'}"&gt;
  &lt;a href="#foo"&gt;Go to foo&lt;/a&gt;
&lt;/div&gt;
&lt;div data-bind="page: {id: 'foo'}"&gt;
  Foo. Go to &lt;a href="#start"&gt;start&lt;/a&gt;
&lt;/div&gt;
</code></pre>

<h3>Should be possible to do deep navigation</h3>

<pre><code>&lt;div id="start" data-bind="page: {id: 'start'}"&gt;
    &lt;a href="#user/fry"&gt;Go to Fry&lt;/a&gt;
&lt;/div&gt;

&lt;div id="user" data-bind="page: {id: 'user'}"&gt;
    &lt;div id="fry" data-bind="page: {id: 'fry'}"&gt;Fry&lt;/div&gt;
&lt;/div&gt;
</code></pre>

<h3>Should load external content into a page using <code>source</code> and trigger <code>sourceLoaded</code> event</h3>

<pre><code>&lt;div data-bind="page: {id: 'lorem', source: 'lorem.html .content', sourceLoaded: loremIsLoaded}"&gt;&lt;/div&gt;
</code></pre>

<p>The source can contain a selector (see <code>.content</code> above) in order to extract a fragment on the site.
In the example above <code>loremIsLoaded</code> is a function that is triggered after <code>lorem.html</code> is loaded.</p>

<h3>Should lazy load an external content into a page if <code>sourceOnShow</code> is declared</h3>

<pre><code>&lt;div data-bind="page: {id: 'lazyLorem', sourceOnShow: 'lorem.html .content'}"&gt;&lt;/div&gt;
</code></pre>

<p><code>sourceOnShow</code> tells the page to load the content when the page is displayed.</p>

<h3>Should cache lazy loaded content when <code>sourceCache: true</code>
</h3>

<pre><code>&lt;div data-bind="page: {id: 'lazyLoremCached', sourceOnShow: 'lorem.html .content', sourceCache: true}"&gt;&lt;/div&gt;
</code></pre>

<h3>Should cache lazy loaded content the number of seconds specified by <code>sourceCache</code>
</h3>

<pre><code>&lt;div data-bind="page: {id: 'lazyLoremCached5seconds', sourceOnShow: 'lorem.html .content', sourceCache: 5}"&gt;&lt;/div&gt;
</code></pre>

<p><code>sourceCache</code> can specify the amount of seconds the external content should be cached.</p>

<h3>Should specify relative page paths using <code>page-href</code>
</h3>

<pre><code>&lt;div data-bind="page: {id: 'start'}"&gt;
  &lt;!-- This will update href to #start/bender --&gt;
  &lt;a data-bind="page-href: 'bender'"&gt;Bender&lt;/a&gt;

  &lt;!-- This will update href to #admin/login --&gt;
  &lt;a data-bind="page-href: '../admin/login'"&gt;Admin Login&lt;/a&gt;

  &lt;div data-bind="page: {id: 'bender'}"&gt;Bender!&lt;/div&gt;
&lt;/div&gt;
&lt;div data-bind="page: {id: 'admin'}"&gt;
  &lt;div data-bind="page: {id: 'login'}"&gt;Login&lt;/div&gt;
&lt;/div&gt;
</code></pre>

<p>Based on the total path of the page the binding calculates an absolute href.</p>

<h3>Should change binding context using <code>with</code>
</h3>

<pre><code>&lt;div data-bind="page: {id: 'user', with: user}"&gt;
  &lt;!-- Here name is user.name --&gt;
  &lt;div data-bind="text: name"&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>

<h3>Should match wildcard IDs if no other ID can match exactly</h3>

<pre><code>&lt;div data-bind="page: {id: 'admin'}"&gt;&lt;/div&gt;
&lt;!-- The page below match anything except 'admin' --&gt;
&lt;div data-bind="page: {id: '?'}"&gt;&lt;/div&gt;
</code></pre>

<h3>Should do deep navigation with wildcards</h3>

<pre><code>&lt;div data-bind="page: {id: 'start'}"&gt;
      &lt;a href="#user/leela"&gt;Go to Leela&lt;/a&gt;
&lt;/div&gt;

&lt;div data-bind="page: {id: '?'}"&gt;
    Misc:
    &lt;div data-bind="page: {id: 'leela'}"&gt;
        Leela
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>

<h3>Should send wildcards to source</h3>

<pre><code>&lt;div data-bind="page: {id: 'start'}"&gt;
    &lt;a href="#user/fry"&gt;Go to Fry&lt;/a&gt;
&lt;/div&gt;

&lt;div data-bind="page: {id: 'user'}"&gt;
    User:
    &lt;!-- {1} will be replaced with whatever matched the wildcard --&gt;
    &lt;div data-bind="page: {id: '?', sourceOnShow: 'user/{1}.html'}"&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>

<h3>Should be possible to load content into iframes</h3>

<pre><code>&lt;!-- An iframe will be created inside the div --&gt;
&lt;div data-bind="page: {id: 'user', frame: 'iframe', source: 'user.html'}"&gt;&lt;/div&gt;

&lt;!-- The iframe specified will be used --&gt;
&lt;div data-bind="page: {id: 'fry', frame: 'iframe', source: 'fry.html'}"&gt;
    &lt;iframe sandbox=""&gt;&lt;/iframe&gt;
&lt;/div&gt;
</code></pre>

<h3>
<code>withOnShow</code> should lazy bind a new view model to the page</h3>

<pre><code>&lt;div data-bind="page: {id: 'user', withOnShow: someMethod('someMethod')}"&gt;&lt;/div&gt;
</code></pre>

<p><code>someMethod</code> must return a function that takes a callback that takes a view model.</p>

<p>E.g.</p>

<pre><code>function requireVM(module) {
  return function(callback) {
    require([module], function(mod) {
      callback(mod.getVM());
    });
  };
}
</code></pre>

<h3>Should be possible to route to custom widgets (dialogs, carousels, accordions)</h3>

<p>It is possible to create custom widgets that jack into the pager-system.
The <code>page</code>-binding (<code>pager.Page</code>-class) is possible to extend at multiple points.</p>

<p>One custom widget (<code>page-accordion-item</code>) is already implemented.</p>

<pre><code>&lt;div data-bind="page: {id: 'employee'}"&gt;
    &lt;div data-bind="page-accordion-item: {id: 'zoidberg'}"&gt;
        &lt;a href="#employee/zoidberg"&gt;Dog&lt;/a&gt;
        &lt;div&gt;Zoidberg Information&lt;/div&gt;
    &lt;/div&gt;
    &lt;div data-bind="page-accordion-item: {id: 'hermes'}"&gt;
        &lt;a href="#employee/hermes"&gt;Cat&lt;/a&gt;
        &lt;div&gt;Hermes Information&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>

<h3>Should be possible to circumvent the routing</h3>

<p>Since pager is not responsible for listening on the location it is possible to
circumvent the routing using the router used. Just do not use <code>pager.start</code>.</p>

<h2>In the pipeline</h2>

<ul>
<li>Write an extensive example and push it to gh-pages branch.</li>
</ul><h2>Backlog</h2>

<p>There are a lot of features waiting to be implemented. Here are some of them.</p>

<h3>Custom Widgets</h3>

<h4>Tab Panel</h4>

<h4>Panel</h4>

<h3>Should be possible to specify page transitions between sub pages</h3>

<h3>Should be possible to specify loaders text on pages</h3>

<h3>Should be possible to run custom JS on "navigate to"</h3>

<h3>Should be possible to run custom JS on "navigate from"</h3>

<h3>Should be possible to run custom JS on "navigate failed"</h3>

<h3>Should be possible to change the page title</h3>

<h3>Should be possible to navigate into a layer without loosing context</h3>

<h3>Should be possible to navigate into a layer and loose context</h3>
        </section>

        <footer>
          Pagerjs is maintained by <a href="https://github.com/finnsson">finnsson</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>